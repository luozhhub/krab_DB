{% extends "base.html" %}

{% block content %}
    <style>
        /* Custom Styles */
        ul.nav-tabs {
            width: 140px;
            margin-top: 20px;
            border-radius: 4px;
            border: 1px solid #ddd;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.067);
        }

        ul.nav-tabs li {
            margin: 0;
            border-top: 1px solid #ddd;
        }

        ul.nav-tabs li:first-child {
            border-top: none;
        }

        ul.nav-tabs li a {
            margin: 0;
            padding: 8px 16px;
            border-radius: 0;
        }

        ul.nav-tabs li.active a, ul.nav-tabs li.active a:hover {
            color: #fff;
            background: #0088cc;
            border: 1px solid #0088cc;
        }

        ul.nav-tabs li:first-child a {
            border-radius: 4px 4px 0 0;
        }

        ul.nav-tabs li:last-child a {
            border-radius: 0 0 4px 4px;
        }

        ul.nav-tabs.affix {
            top: 30px; /* Set the top position of pinned element */
        }
    </style>


    <div class="container">
        <div class="row clearfix">
            <div class="col-md-12 column">


                <div class="row container">


                    <div class="col-xs-2" id="myScrollspy">
                        <ul class="nav nav-tabs nav-stacked" data-spy="affix" data-offset-top="125">
                            <li class="active"><a href="#section-1">Basic information</a></li>
                            <li><a href="#section-2">Motif</a></li>
                            <li><a href="#section-3">Repeats</a></li>
                            <li><a href="#section-4">Expression</a></li>
                            <li><a href="#section-5">第五部分</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-10">


                        <p>
                            I'm in Section 1.
                        </p>

                        <div id="section-1" class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title">{{ znf_data["znf_symbol"] }} information</h3>
                            </div>
                            <div class="panel-body">
                                这是一个基本的面板
                            </div>

                            <table class="table table-borderless">
                                <tr class="d-flex">
                                    <td class="col-sm-2" style="border: none;">Essemble ID:</td>
                                    <td class="col-sm-1" style="border: none;">000000000</td>
                                    <td class="col-sm-6" style="border: none;"></td>
                                </tr>
                                <tr class="d-flex" style="border: none;">
                                    <td class="col-sm-2" style="border: none;">Chip data GEO number:</td>
                                    <td class="col-sm-1"
                                        style="border: none;">{{ znf_data["data_no"] }}</td>
                                    <td class="col-sm-6" style="border: none;"></td>

                                </tr>
                                <tr class="d-flex" style="border: none;">
                                    <td class="col-sm-2" style="border: none;">Chip data set GEO number:
                                    </td>
                                    <td class="col-sm-1"
                                        style="border: none;">{{ znf_data["data_source"] }}</td>
                                    <td class="col-sm-6" style="border: none;"></td>
                                </tr>
                                <tr class="d-flex" style="border: none;">
                                    <td class="col-sm-2" style="border: none;">Total peaks:</td>
                                    <td class="col-sm-1"
                                        style="border: none;">{{ znf_data["peaks_num"] }}</td>
                                    <td class="col-sm-6" style="border: none;"></td>
                                </tr>
                                <tr class="d-flex" style="border: none;">
                                    <td class="col-sm-2" style="border: none;">Total repeats:</td>
                                    <td class="col-sm-1"
                                        style="border: none;">{{ znf_data["repeats_num"] }}</td>
                                    <td class="col-sm-6" style="border: none;"></td>
                                </tr>

                            </table>

                        </div>


                        <div id="section-2" class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title"> Motif</h3>
                            </div>
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <div class="panel-body">
                                        <p> peaks: ??? </p>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default"><a
                                                    href="{{ znf_data["img_base_path"] }}/raw/matrix">download</a>
                                            </button>
                                        </div>
                                    </div>
                                    <img src="{{ znf_data["img_base_path"] }}/raw/logo1.png" class="img-thumbnail">
                                </li>
                                <li class="list-group-item">
                                    <div class="panel-body">
                                        <p> peaks: ??? </p>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default"><a
                                                    href="{{ znf_data["img_base_path"] }}/none/matrix">download</a>
                                            </button>
                                        </div>
                                    </div>
                                    <img src="{{ znf_data["img_base_path"] }}/none/logo1.png" class="img-thumbnail">
                                </li>

                                <li class="list-group-item">
                                    <div class="panel-body">
                                        <p> peaks: ??? </p>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default"><a
                                                    href="{{ znf_data["img_base_path"] }}/part/matrix">download</a>
                                            </button>
                                        </div>
                                    </div>
                                    <img src="{{ znf_data["img_base_path"] }}/part/logo1.png" class="img-thumbnail">
                                </li>
                                <li class="list-group-item">
                                    <div class="panel-body">
                                        <p> peaks: ??? </p>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default"><a
                                                    href="{{ znf_data["img_base_path"] }}/full/matrix">download</a>
                                            </button>
                                        </div>
                                    </div>
                                    <img src="{{ znf_data["img_base_path"] }}/full/logo1.png" class="img-thumbnail">
                                </li>
                            </ul>
                        </div>


                        <div id="section-3" class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title"> Repeats releated
                                    with {{ znf_data["znf_symbol"] }}</h3>
                            </div>

                            <div id="highchats_c"></div>

                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>

{% endblock %}


{% block javascript_f %}

    <script>
        var data_1 = {{ hi_data|tojson|safe }}

        var chart = Highcharts.chart('highchats_c', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'the peaks overlapped with each repeat'
            },
            subtitle: {
                text: 'Repeat number <a href="https://en.wikipedia.org/wiki/List_of_cities_proper_by_population">22</a>'
            },
            xAxis: {
                type: 'category',
                labels: {
                    rotation: -45 // 设置轴标签旋转角度
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Peaks (number)'
                }
            },
            legend: {
                enabled: false
            },
            tooltip: {
                pointFormat: 'peaks number: <b>{point.y:.1f} </b>'
            },
            series: [{
                name: "repeat",
                data: data_1,

                dataLabels: {
                    enabled: true,
                    rotation: -90,
                    color: '#FFFFFF',
                    align: 'right',
                    format: '{point.y:.1f}', // :.1f 为保留 1 位小数
                    y: 10
                }
            }]
        });


    </script>
{% endblock %}